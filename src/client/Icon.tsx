import React from 'react'

export type IconName = keyof typeof icons

export function Icon(props: {
  name: IconName
  location: [x: number, y: number]
  on?: boolean
  onClick?: () => void
  remaining?: number
}) {
  const r = 35
  const scale = 1
  const extra = 10
  return (
    <g
      transform={`translate(${props.location}) translate(${-r},${-r})`}
      onClick={props.onClick}
    >
      <circle cx={r} cy={r} r={r + extra} fill="transparent" />
      <circle cx={r} cy={r} r={r} fill={props.on ? '#e8d100' : 'lightgray'} />
      <g
        fill="black"
        transform-origin={`${size / 2} ${size / 2}`}
        transform={`
          translate(${r},${r})
          translate(${-size / 2},${-size / 2})
          scale(${scale})
        `}
      >
        {icons[props.name]}
      </g>
      {props.remaining && (
        <circle
          cx={r}
          cy={r}
          r={r}
          fill="transparent"
          stroke="black"
          strokeWidth={1}
        />
      )}
      {typeof props.remaining === 'number' && (
        <circle
          cx={r}
          cy={r}
          r={r}
          style={{
            transition: `all 250ms linear`,
          }}
          fill="transparent"
          stroke="black"
          transform-origin={`${r} ${r}`}
          transform={`rotate(270)`}
          strokeDasharray={`0 ${2 * Math.PI * r * (1 - props.remaining)} 10000`}
          strokeWidth={10}
        />
      )}
    </g>
  )
}

/**
 * @see https://fonts.google.com/icons with "Outlined" and Fill=1 & export as SVG
 */
const icons = {
  Park: (
    <path d="M26.9 44h-5.75v-7.45H6l9.45-13.7H10.7L24 4l13.3 18.85h-4.7l9.4 13.7H26.9Z" />
  ),
  'Door Sensor': (
    <path d="M17 42q-1.25 0-2.125-.875T14 39v-6h10q1.25 0 2.125-.875T27 30q0-1.25-.875-2.125T24 27H14V9q0-1.25.875-2.125T17 6h14q1.25 0 2.125.875T34 9v30q0 1.25-.875 2.125T31 42ZM9.5 31.5q-.65 0-1.075-.425Q8 30.65 8 30q0-.65.425-1.075Q8.85 28.5 9.5 28.5H24q.65 0 1.075.425.425.425.425 1.075 0 .65-.425 1.075-.425.425-1.075.425Zm14.5-12q.65 0 1.075-.425.425-.425.425-1.075 0-.65-.425-1.075Q24.65 16.5 24 16.5q-.65 0-1.075.425Q22.5 17.35 22.5 18q0 .65.425 1.075.425.425 1.075.425Zm16.5-2q-.65 0-1.075-.425Q39 16.65 39 16V8q0-.65.425-1.075Q39.85 6.5 40.5 6.5q.65 0 1.075.425Q42 7.35 42 8v8q0 .65-.425 1.075-.425.425-1.075.425Z" />
  ),
  'Tv Gen': (
    <path d="M8.5 42v-4H7q-1.25 0-2.125-.875T4 35V11q0-1.25.875-2.125T7 8h34q1.25 0 2.125.875T44 11v24q0 1.25-.875 2.125T41 38h-1.5v4h-1.15l-1.3-4H11l-1.35 4ZM7 35h34V11H7v24Zm0-24h34v24H7Z" />
  ),
  'Water Voc': (
    <path d="m29.85 44.3-.65-1.45q-.4-.85-.55-1.7-.15-.85-.15-1.75 0-1.1.275-2.15.275-1.05.775-2.05.4-.85.675-1.75t.275-1.85q0-.8-.175-1.575-.175-.775-.525-1.475l-.45-1.05 1.8-.8.6 1.4q.4.85.575 1.725.175.875.175 1.775 0 1.05-.25 2.05-.25 1-.7 1.95-.4.9-.725 1.85-.325.95-.325 1.95 0 .75.175 1.475.175.725.475 1.425l.55 1.2Zm6 0-.65-1.45q-.4-.85-.55-1.7-.15-.85-.15-1.75 0-1.1.275-2.15.275-1.05.775-2.05.4-.85.675-1.75t.275-1.85q0-.8-.175-1.575-.175-.775-.525-1.475l-.45-1.05 1.8-.8.6 1.35q.35.85.55 1.75.2.9.2 1.8 0 1.05-.25 2.05-.25 1-.7 1.95-.4.9-.725 1.85-.325.95-.325 1.95 0 .75.175 1.475.175.725.475 1.425l.55 1.2Zm6 0-.65-1.45q-.4-.85-.55-1.7-.15-.85-.15-1.75 0-1.1.275-2.15.275-1.05.775-2.05.4-.85.675-1.75t.275-1.85q0-.8-.175-1.575-.175-.775-.525-1.475l-.45-1.05 1.8-.8.65 1.35q.4.85.55 1.75.15.9.15 1.8 0 1.05-.25 2.05-.25 1-.7 1.95-.4.9-.725 1.85-.325.95-.325 1.95 0 .75.175 1.475.175.725.475 1.425l.55 1.2ZM8 27.6q0-5 3.975-10.875T24 4q6.55 5.55 10.375 10.45 3.825 4.9 5.075 9.25H28.5q-1.25 0-2.125.875T25.5 26.7v17.25q-.4.05-.75.05H24q-6.85 0-11.425-4.7Q8 34.6 8 27.6Z" />
  ),
  Fluorescent: (
    <path d="M10.8 29.2V18.8h26.4v10.4ZM22.6 9.5V4h3v5.5Zm14.85 5.35-2.1-2.1 3.4-3.4 2.1 2.1ZM22.6 44v-5.5h3V44Zm16.15-5.5-3.4-3.4 2.1-2.1 3.4 3.4Zm-28.2-23.65-3.4-3.4 2.1-2.1 3.4 3.4ZM9.25 38.5l-2.1-2.1 3.4-3.4 2.1 2.1Z" />
  ),
  Help: (
    <path d="M24.2 35.65q.8 0 1.35-.55t.55-1.35q0-.8-.55-1.35t-1.35-.55q-.8 0-1.35.55t-.55 1.35q0 .8.55 1.35t1.35.55Zm-1.75-7.3h2.95q0-1.3.325-2.375T27.75 23.5q1.55-1.3 2.2-2.55.65-1.25.65-2.75 0-2.65-1.725-4.25t-4.575-1.6q-2.45 0-4.325 1.225T17.25 16.95l2.65 1q.55-1.4 1.65-2.175 1.1-.775 2.6-.775 1.7 0 2.75.925t1.05 2.375q0 1.1-.65 2.075-.65.975-1.9 2.025-1.5 1.3-2.225 2.575-.725 1.275-.725 3.375ZM24 44q-4.1 0-7.75-1.575-3.65-1.575-6.375-4.3-2.725-2.725-4.3-6.375Q4 28.1 4 24q0-4.15 1.575-7.8 1.575-3.65 4.3-6.35 2.725-2.7 6.375-4.275Q19.9 4 24 4q4.15 0 7.8 1.575 3.65 1.575 6.35 4.275 2.7 2.7 4.275 6.35Q44 19.85 44 24q0 4.1-1.575 7.75-1.575 3.65-4.275 6.375t-6.35 4.3Q28.15 44 24 44Z" />
  ),
  Sensors: (
    <path d="M9.85 38.15q-2.7-2.7-4.275-6.325Q4 28.2 4 24t1.575-7.825Q7.15 12.55 9.85 9.85l2.1 2.15q-2.3 2.3-3.625 5.375Q7 20.45 7 24t1.325 6.625Q9.65 33.7 12 36.05Zm5.65-5.65q-1.6-1.6-2.55-3.775Q12 26.55 12 24t.95-4.725Q13.9 17.1 15.5 15.5l2.1 2.15q-1.2 1.2-1.9 2.825Q15 22.1 15 24t.7 3.525q.7 1.625 1.95 2.875ZM24 28q-1.65 0-2.825-1.175Q20 25.65 20 24q0-1.65 1.175-2.825Q22.35 20 24 20q1.65 0 2.825 1.175Q28 22.35 28 24q0 1.65-1.175 2.825Q25.65 28 24 28Zm8.5 4.5-2.1-2.15q1.2-1.2 1.9-2.825Q33 25.9 33 24t-.7-3.525q-.7-1.625-1.95-2.875l2.15-2.1q1.6 1.6 2.55 3.775Q36 21.45 36 24q0 2.5-.95 4.675T32.5 32.5Zm5.65 5.65L36.05 36q2.3-2.3 3.625-5.375Q41 27.55 41 24t-1.325-6.625Q38.35 14.3 36 11.95l2.15-2.1q2.7 2.75 4.275 6.375Q44 19.85 44 24t-1.575 7.775Q40.85 35.4 38.15 38.15Z" />
  ),
}

/**
 * This comes from <svg height="48" width="48"> in the source icons
 */
const size = 48
